<!DOCYTPE html><html><head lang="en-GB"><meta name="viewport" content="width=device-width, initial-scale=1"><title>1BTC = Loading...</title><meta charset="utf-8"/><style>*{box-sizing:border-box;padding:0;margin:0;}html{font-family:'Courier New',Courier,monospace;background:#101;font-size:16px;color:#FFE;}a,a:visited,a:link,button{text-decoration:underline;cursor:pointer;color:#FFE;margin:0 2px}a:hover,button:hover{text-decoration:none;color:#FFF;}button{background:none;border:none;}ul{list-style:none;}li,ul{display:inline;}#content,#footer,#content div{position:absolute;padding:1rem;right:0;left:0;}#content{text-align:center;bottom:3rem;top:0;}#content div{transform:translateY(-50%);top:50%;}h1{font-size:3rem;}#footer{text-align:right;line-height:1;bottom:0;}</style></head><body><section id="content"><div><h1 id="price">Loading...</h1><section id="links"><section id="refreshRates">Refresh Rate:<ul><li><button onclick="setRefreshRate(1000)">1s</button></li><li><button onclick="setRefreshRate(2000)">2s</button></li><li><button onclick="setRefreshRate(5000)">5s</button></li><li><button onclick="setRefreshRate(10000)">10s</button></li></ul></section><section id="currencies">Currency:<ul><li><button onclick="setCurrency('usd')">USD</button></li><li><button onclick="setCurrency('eur')">EUR</button></li><li><button onclick="setCurrency('gbp')">GBP</button></li></ul></section></section></div></section><section id="footer">Powered by <a href="https://www.coindesk.com/price/bitcoin">CoinDesk</a>. <a href="https://github.com/ayesaac/bitcoin-price">GitHub Repo</a>.</section></body><script>const urlParams=new URLSearchParams(window.location.search);const setCurrency=currency=>{urlParams.set("currency",currency);window.location.search=urlParams.toString();};const setRefreshRate=refreshRate=>{urlParams.set("refreshRate",refreshRate);window.location.search=urlParams.toString();};const currencies={usd:{entity:"&#36;",symbol:"$",key:"USD"},gbp:{entity:"&pound;",symbol:"£",key:"GBP",},eur:{entity:"&euro;",symbol:"€",key:"EUR",},};const currencyParam=urlParams.get("currency");const currency=currencies[currencyParam]??currencies["usd"];const refreshRateParam=urlParams.get("refreshRate");const refreshRate=refreshRateParam>=1000?refreshRateParam:5000;const priceCallbacks=[price=>document.getElementById("price").innerHTML=`${currency.entity}${price}`,price=>document.title=`1BTC = ${currency.symbol}${price}`];const getPrice=()=>fetch(`https://api.coindesk.com/v1/bpi/currentprice.json?c=${new Date().toISOString()}`);const update=price=>priceCallbacks.forEach(c=>c(price));const extractPrice=data=>data.bpi[currency.key].rate;const priceUpdate=async()=>await getPrice().then(response => response.json()).then(extractPrice).then(update).then(()=>setTimeout(priceUpdate,refreshRate));priceUpdate();</script></html>
